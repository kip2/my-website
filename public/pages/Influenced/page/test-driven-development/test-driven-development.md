

偉大なるテスト駆動開発。  

[テスト駆動開発 | コンピュータ・一般書,プログラミング・開発,開発技法 | Ohmsha](https://shop.ohmsha.co.jp/shopdetail/000000004967/)  

:::LittleBlank  

---  

:::LittleBlank  


## 出会い  

python描き始めた頃に、なんかいい本ないかなーと思って本を探していた頃に出会った。  

:::LittleBlank  

なぜ本を探していたかというと、いつまでも写経することから先に進むことができず、途方に暮れていたので、答えを探すためにひたすら本を漁っていた。  
この頃はうまく意識に登ってはいなかったが、無意識に開発手法的な本を求めていた。  

:::LittleBlank  

そんな時に、ネットのおすすめに必ずと言っていいほど挙がる、この本を購入。  

:::LittleBlank  

読んですぐに、これは自分が求めていた開発手法に関する本であるとわかったので、即写経＆実践。  
結果としてこれは正解で、開発がかなり楽になった。  

:::LittleBlank  

---  

:::LittleBlank  


## テスト駆動開発とは何か？  

テスト駆動開発について簡単にまとめると  
- 思いつくアイデアを、ToDoリストとして書き出す  
- ToDoからひとつ選び、テストコードを書く  
- テストが失敗することを確認する(レッドバー)  
- テストを成功するための、最小限のコードを書く(グリーンバー)  
- コードを見直し、リファクタリングする  

以上を繰り返す手法が、テスト駆動開発。  

## なぜこれで開発が楽になるの？  

なぜこれだけのことを繰り返しただけで開発が楽になるのか？  
自分の体験の範囲で、これらの利点についていくつか語る。  
素人なりの解説になっているので不十分なものがあると思う。  
気になる人は本を読むか、t-wadaさんの記事あたりを読んでくれ！  

### ToDoリスト  

まず、ToDoリストについて。  
設計をガチガチに固めてからスタートするのではなく、思いついたことからスタートできるところが良いところだと思う。  

:::LittleBlank  

常々考えていたのが、設計ができないと何も進めない、ということ。  
しかし、初心者にはよくあることだと思うが、そもそも設計をどうすればいいかわからないので、何も思い浮かばない。  
そして、設計ができないから何も作れずに終わるということ。  

:::LittleBlank  

これがこの記事の冒頭にいっていた、「写経から前に進めない状態」である。  

:::LittleBlank  

これがToDoリストを活用すると、とりあえず思いつきをリストの形で箇条書きしておき、その中からできそうなところから手をつけられるので、何も進まないということがない。  
さらにToDoリストを更新しながら同様に作るので、作成が止まらない。  

:::LittleBlank  

そして、これを繰り返した結果で、目的のものができる、という寸法である。  
ようするにインクリメンタルに開発が可能ということ。  
これがToDoリストの利点である。  

:::LittleBlank  

ようするにToDoリストを設計書として、だんだん育てながら一緒に作っていく感じ。  

### テストが失敗することを確認する  

テスト駆動開発では、必ず最初に、テストが失敗することを確認する。  

:::LittleBlank  

これは一見無駄な作業に見える。  

:::LittleBlank  

しかししかし。  
最初にテストが失敗していることで、それが簡易な問題になるのだ。  

:::LittleBlank  

これがどういうことかを説明する。  

:::LittleBlank  

プログラミングを問題形式にして出題し、それを満たすことのできるコードを書くような学習サイトがあると思う(paizaとかRecursionとか。あとAtcoderとかも似たようなものかも)。  
こういったサイトでの問題は解けるが、しかし自走して物は作れない、という人はいっぱいいると思う(というか自分である)。  

:::LittleBlank  

つまり、あえて最初にレッドバーの状況を作り上げることで、自作問題を目の前に作り上げた状態にできるということ。  
これは、これまで問題を解く形で学習を進めてきた人の、認知パターンに合致するので、同じ感覚で開発ができるということなんだ。  

:::LittleBlank  

自分がちょうど問題は解けるが自走できない状態に陥っていた時に、テスト駆動開発に出会えたことで、作るために足を踏み出すことができたからこそ、これははっきりした利点だと言える。  

### テストを通すための最小限のコードを書く  

これは、先ほどのレッドバーで作った問題を解く工程に値する。  

:::LittleBlank  

そして、これは"完璧でなくて良い"というのがミソ。  
最小限どのコードでいいのだから、力づくでいいのである。  

:::LittleBlank  

力づくでいいので、余計なことを考える必要がない。  
そのため、手が止まらずに開発が先に進むのである。  

### リファクタリング  

さて、リファクタリングである。  
これは、今書いてきたテストを通った最小限のコードを見直す、ということ。  

:::LittleBlank  

今通してきたコードはコンパイルエラーを生まないための最小限のコードであるので、必ず質が悪いコードである。  
それに対して、何を直したらいいかを考え、思いつく端からToDoリストに書き加える。  

:::LittleBlank  

こうすることで、何が良いかというと。  
- コードリーディングの力が身につく(悪いコードの改善した姿について考えることになるから)  
- リファクタリング自体の力も身に付く。  

### そして、これらのサイクルを回す  

今見てきた一連のサイクルを回すことで、小さく作って、そして大きくプログラミングを育てることができる。  
適当なアイデアから始めて、結果として大きなものが作れるということなのだ。  

:::LittleBlank  

実際、これを行うようにすることで、設計とか計画が苦手なあんぽんたんな自分でも、大きなプロダクトを作ることができるようになったから。  
実例として、このwebsite自身がそのようにできているということを申し述べておく。  

:::LittleBlank  

---  

:::LittleBlank  

## 1部を読むだけでかなり力になる  

とにかく1部(他書の1章に相当)だけでも読んでみよう。  
全部読む必要ないから、そこだけでも読んでほしい。  
それだけでも、開発においてかなりの実りがあると思う。  
実際、自分は1、2部くらいまでしか読んでないが、それだけでも開発が楽になったので。  

## テスト駆動開発に感じている利点  

さて、最後にテスト駆動開発について思うところをまとめる。  

:::LittleBlank  

テスト駆動開発の何がいいかというと、  
- テストをしながらインクリメンタルに確実に進むことができる  
- 必ず失敗から始めるから、課題が目の前にあるのでパズルを解く感覚で開発できる  
- リファクタリングまで含めてサイクルに入っているので、自然とコードリーディングが身につく  


## みんなも読んで実践しよう  

興味を持った方はぜひ、本書を借りるか買って読むか、t-wadaさんの記事を読もう。  
自分の力不足で回帰テストなどについては語れていないので、その辺りも原点を読んで確認してほしい。  

:::LittleBlank    

そして、共に沼って開発を楽しんでいこうよ。  
開発楽しいよ？  
